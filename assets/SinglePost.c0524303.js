import{r as n,I as L,b as t,e as o,w as u,c as p,T as I,F as c,Z as M,g as x,h as H,u as d}from"./index.40ed2a54.js";import{_ as w,p as B,d as D,a as E,b as T,c as b}from"./PostCard.3843ca94.js";import{E as i}from"./EmptyPostCard.845532c6.js";import"./dompurify.94300d41.js";import"./swal.5a8fdb95.js";import"./plugin-vue_export-helper.21dcd24c.js";const C=H("\u8F09\u5165\u4E2D..."),V={props:{postId:{type:String,required:!0}},setup(m){const f=m,r=n(!1),s=n([]),k=L(),_=async()=>{try{r.value=!0;const{data:e}=await M(f.postId);s.value.push(e)}finally{r.value=!1}},g=e=>{B({postId:e,userId:d.value._id,posts:s.value})},v=e=>{D({postId:e,userId:d.value._id,posts:s.value})},y=({postId:e,message:a})=>{E({postId:e,message:a,posts:s.value})},P=(e,a)=>{T({postId:a,messageId:e,posts:s.value})},h=e=>{b({postId:e,posts:s.value},()=>{k.push({name:"Index"})})};return _(),(e,a)=>r.value?(t(),o(i,{key:0},{default:u(()=>[C]),_:1})):(t(),p(c,{key:1},[s.value.length?(t(),o(I,{key:0,tag:"ul",name:"fade",class:"space-y-4"},{default:u(()=>[(t(!0),p(c,null,x(s.value,l=>(t(),o(w,{key:l._id,post:l,onPostLike:g,onPostMessage:y,onDeleteLike:v,onDeletePost:h,onDeleteMessage:P},null,8,["post"]))),128))]),_:1})):(t(),o(i,{key:1}))],64))}};export{V as default};
