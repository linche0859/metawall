import{r,h as x,o as u,c,k as o,l as i,v as b,n as m,m as g,a as h,p as k,d as w,z as y,F as _,f as z}from"./index.b74ca7ef.js";import{b as C}from"./post.a9b6f0c8.js";import{s as V,g as B}from"./swal.db038e00.js";const N=o("h2",{class:"relative isolate mb-4 after:absolute after:right-1 after:top-1 after:z-[-1] after:h-full after:w-full after:border-2 after:border-black-100 after:content-['']"},[o("div",{class:"border-2 border-black-100 bg-white py-[18px] text-center font-azeret text-xl font-bold text-black-100"}," \u5F35\u8CBC\u52D5\u614B ")],-1),P=o("label",{for:"content",class:"mb-1 inline-block text-black-100"},"\u8CBC\u6587\u5167\u5BB9",-1),D={key:1,class:"mt-8 text-center text-sm text-red-100","data-id":"error"},E=z("\u9001\u51FA\u8CBC\u6587"),T={setup(F){const s=r(!1),l=r(""),t=r(""),a=r(""),f=()=>t.value.length&&!t.value.startsWith("https://")?(a.value="\u5716\u7247\u683C\u5F0F\u932F\u8AA4\uFF0C\u50C5\u9650 JPG\u3001PNG \u5716\u7247",!1):!0,p=async()=>{try{if(s.value=!0,!f())return;await C({content:l.value,image:t.value}),a.value="",l.value="",t.value="",V({title:"\u65B0\u589E\u8CBC\u6587\u6210\u529F"})}catch(d){const e=B(d.message);a.value=e}finally{s.value=!1}};return(d,e)=>{const v=x("Button");return u(),c(_,null,[N,o("form",{method:"post",class:"rounded-lg border-2 border-black-100 p-8 shadow-100",onSubmit:e[2]||(e[2]=y(()=>{},["prevent"]))},[P,i(o("textarea",{"onUpdate:modelValue":e[0]||(e[0]=n=>l.value=n),class:"block min-h-[169px] w-full border-2 border-black-100 py-3 px-4",placeholder:"\u8F38\u5165\u60A8\u7684\u8CBC\u6587\u5167\u5BB9"},null,512),[[b,l.value,void 0,{trim:!0}]]),i(o("input",{"onUpdate:modelValue":e[1]||(e[1]=n=>t.value=n),type:"text",class:"mt-4 w-full rounded-none border-2 border-black-100 py-3 px-4 font-azeret leading-[22px] text-black-100",placeholder:"\u5716\u7247\u7DB2\u5740 https://..."},null,512),[[b,t.value]]),m("",!0),a.value?(u(),c("p",D,g(a.value),1)):m("",!0),h(v,{class:k(["mx-auto block w-[68.86%] rounded-lg border-2 border-black-100 bg-gray-200 font-azeret font-bold leading-[50px] text-black-100 hover:bg-yellow-100 hover:shadow-200",a.value?"mt-4":"mt-8"]),loading:s.value,onClick:p},{default:w(()=>[E]),_:1},8,["class","loading"])],32)],64)}}};export{T as default};
